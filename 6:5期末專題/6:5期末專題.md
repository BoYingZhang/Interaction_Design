
# 🌋 Arduino + Web Serial 互動地形專案說明（完整版）

本專案透過 **Arduino UNO** + **Web Serial API** + **p5.js**，結合可變電阻與按鈕，打造一個互動式的 3D 地形動畫視覺裝置。

---

## 🧩 功能簡介

| 功能類型         | 說明                                                   |
|------------------|--------------------------------------------------------|
| 🔌 串接 Web Serial | 使用原生瀏覽器 Web Serial API 串接 Arduino              |
| 🎚️ 可變電阻控制   | A0 腳位讀取，分成 10 段對應不同振幅（Amplitude）       |
| 🔘 模式切換按鈕   | 透過 D2 腳位的按鈕控制地形模式（M值 0~2）               |
| 🌈 視覺回饋       | p5.js 繪製地形動畫，隨模式/振幅變化動態更新             |
| 🐞 Debug 面板     | 左上角即時顯示：A、M、振幅、模式、FPS、資料格式等        |
| 🖥️ 全螢幕切換    | 支援切換為全螢幕顯示動畫場景                            |
| 🌀 模式切換動畫   | 顯示對應的動畫 icon（🌊、🌍、🔥）                        |
| 🧩 美化 UI        | 粉紅色系 UI、動畫訊息提示、自動淡出效果、收合面板         |

---

## 🔌 硬體需求

| 裝置名稱         | 腳位     | 說明                      |
|------------------|----------|---------------------------|
| 可變電阻（10KΩ）  | A0       | 控制地形振幅               |
| 按鈕（2Pin）      | D2       | 切換地形模式               |
| Arduino UNO       | USB      | 傳送 A/M 資料               |
| 杜邦線 / 麵包板   | -        | 基礎連接                   |

---

## 🎚️ A 值對應振幅邏輯

將 A0 的輸出值（0–1023）分成 10 段，對應振幅值如下：

| A 值範圍     | Amplitude |
|--------------|------------|
| 0–100        | 40         |
| 101–200      | 80         |
| 201–300      | 120        |
| 301–400      | 160        |
| 401–500      | 200        |
| 501–600      | 240        |
| 601–700      | 280        |
| 701–800      | 320        |
| 801–900      | 360        |
| 901–1023     | 400        |

---

## 🌐 地形模式（M 值）

按鈕每次按下會切換 M 值（0 ➜ 1 ➜ 2 ➜ 循環），對應動畫如下：

| M 值 | 模式        | 地形動畫邏輯說明                    |
|------|-------------|-------------------------------------|
| 0    | 🌊 Tsunami   | 波浪+Perlin Noise 混合動態         |
| 1    | 🌍 Earthquake| 高頻震動 + 噪聲跳動                 |
| 2    | 🔥 Firestorm | 中心擴散震波 + flicker 火焰閃爍感 |

---

## 🖥️ 畫面與操作提示

- 左上角 debug 面板可手動收合
- 右上角有「連接 Arduino」與「全螢幕」按鈕
- 畫面中央在模式切換時會浮現動畫 icon 提示
- Serial 資料格式範例：`A:536,M:1`

---

## 📁 專案結構

| 檔案名稱     | 說明                         |
|--------------|------------------------------|
| `test.ino`   | Arduino 腳本（送出 A/M 資料） |
| `test.html`  | 主程式，控制動畫與 UI        |
| `test_ui_upgrade.md` | 介面優化備忘文件（建議草案） |

---

## 🔧 擴充建議（可選功能）

- 加入模式音效切換（Tsunami/Earthquake/Fire）
- 支援語音輸入觸發模式變更
- 增加地形顏色動態使用 HSV 模型
- 將資料同步傳至後端伺服器做即時記錄

---

本專案適用於互動藝術、資訊視覺化、STEAM 教學、數位裝置創作等領域 💡