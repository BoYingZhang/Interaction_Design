# LED Music Control Project - Arduino

## 🎯 功能簡介
本專案為一個以 Arduino 控制器為核心的互動系統，結合 LED、蜂鳴器、伺服馬達、超音波感測器、水銀開關與按鈕操作，實現以下功能：

- 使用按鈕（D7）切換目前要控制亮度的 LED（共 5 顆）
- 可變電阻（A2）控制選定 LED 的亮度（0~255）
- 超音波感測器（D9/D10）偵測物體距離，< 4cm 時觸發播放/暫停音樂
- 音樂播放為旋律序列（生日快樂歌改編）
- 音樂播放時：
  - 蜂鳴器播放音符
  - 對應 LED 亮起（1 秒）
  - 對應馬達旋轉動作
- 若再次感測到物體靠近：暫停播放（蜂鳴器靜音、LED 關閉、馬達停止）
- 若水銀開關（D8）偵測傾倒：強制停止播放，並進入鎖定狀態（即使恢復也不繼續）
- 必須再次觸發感測器才可解除鎖定並重新播放
- Serial Monitor 會顯示所有操作、狀態、LED 亮度、距離、目前播放音符資訊
- **音樂播放支援續播功能（中斷後會從上一個音符繼續）**

---

## 🧰 使用元件 & 腳位配置

| 元件         | 腳位   | 說明                     |
|--------------|--------|--------------------------|
| 超音波感測器 | D9/D10 | Trig/Echo                |
| 蜂鳴器       | D6     | 播放旋律                 |
| 按鈕         | D7     | 切換要控制亮度的 LED     |
| 水銀開關     | D8     | 傾倒時強制停止播放       |
| LED 燈 1~5   | D2, D4, D5, A0, A1 | 音符對應 LED      |
| 可變電阻     | A2     | 調整選定 LED 的亮度     |
| 伺服馬達     | D3     | 根據音符執行旋轉動作     |

---

## 🎵 音樂與控制對應

### 音樂旋律：
```
ECEC EGG0 FDD ECCE CEC
```
- 每個音符維持 1 秒
- "0" 表示空拍，無聲音

### 馬達旋轉對應：
| 音符 | 動作說明                  |
|------|---------------------------|
| E    | 右轉 90 度（180）         |
| C    | 左轉 90 度（0）           |
| G    | 右180 → 左180 連續擺動   |
| F    | 右轉 90 度                |
| D    | 左轉 90 度                |
| 0    | 右180 → 左180 連續擺動   |

---

## 🔍 Serial Monitor 訊息
- 顯示目前 LED 控制狀態、超音波距離
- 播放狀態、音符編號、對應 LED 與馬達動作
- 偵測傾斜與解鎖資訊

---

## 🚀 使用方式
1. 將所有硬體依照腳位正確接線
2. 使用 Arduino IDE 開啟主程式（.ino）檔
3. 上傳至 Arduino Uno
4. 開啟 Serial Monitor（9600 baud）觀察狀態
5. 使用按鈕切換控制 LED、旋轉可變電阻改變亮度
6. 靠近感測器觸發音樂播放，即可開始互動！

---

## 📌 注意事項
- A0/A1 腳位若使用在非 PWM 板（如 Uno），不支援 `analogWrite()` 調光，需更換腳位
- 伺服馬達請確認外部供電穩定，避免音樂播放時卡頓
- 如需延伸功能，可增加 LCD 顯示、模式記憶、紅外線控制等
